<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/templates/Nav.xhtml">
	<ui:param name="tituloPagina" value="Inicio" />
		<ui:define name="contenido">
			<div class="container">
				<h:form>
					
					<div class="col-xs-12">
						<h:commandLink class="btn" rendered="#{not ingresoBean.visible}" action="#{ingresoBean.accionar()}" value="Reservar" />
						<h:form rendered="#{ingresoBean.visible}">
						<div id="" class="col s12 " >
						<div class="container">
							<div class="modal-content center">
								<h1>Reserva</h1>
								<p jsf:rendered="#{not ingresoBean.mesaAyuda}">Escoja el ambiente:</p>
								
								<div class="col s12" >
									<h:selectOneMenu value="#{ingresoBean.nombreAmbiente}">
										<f:selectItems value="#{ingresoBean.ambientes}" />
									</h:selectOneMenu>
								</div>
								
							 <input type="text" id="fecha" value="Eliga la Fecha" style="margin-top: 8%"
								class="datepicker" jsf:value="#{ingresoBean.fecha}" required="required"/>
							</div>
							
							<div class="">
								<h:commandButton class="btn col s12 l6 xl6" 
									action="#{ingresoBean.hacerCronograma()}"
									value="Siguiente" ></h:commandButton>    
								<h:commandButton class="btn" action="indexReser" actionListener="#{ingresoBean.accionar}"
									value="Cancelar" style="margin-left: 10px;"></h:commandButton>

							</div>
							</div>
						</div>
						</h:form>
						<h:outputText value="#{ingresoBean.mensaje}" />
					</div>
					<h:dataTable value="#{ingresoBean.notificacion}" var="datos">
						<h:column>
							<f:facet name="header">Notificaciones</f:facet>
												#{datos.descripcion}
							<h:commandButton rendered="#{ingresoBean.administrador}"
								actionListener="#{ingresoBean.aceptarSolicitud(datos.reserva, datos.codigo)}"
								value="Aceptar" />
							<h:commandButton rendered="#{ingresoBean.administrador}"
								actionListener="#{ingresoBean.rechazarSolicitud}"
								value="Rechazar" />
							<f:param name="reserva" value="#{datos.reserva}" />
							<f:param name="informe" value="#{datos.codigo}" />
						</h:column>
					</h:dataTable>
					<h:dataTable value="#{ingresoBean.observaciones}" var="datos2">
						<h:column>
							<f:facet name="header">Observaciones</f:facet>
												#{datos2.descripcion}
						</h:column>
					</h:dataTable>
				</h:form>
			</div>
			<script type="text/javascript" src="resources/js/jquery.js" />
			<script type="text/javascript" src="resources/js/materialize.js" />
			<script type="text/javascript">

		$('.timepicker').pickatime({
	    default: 'now', // Set default time: 'now', '1:30AM', '16:30'
	    fromnow: 0,       // set default time to * milliseconds from now (using with default = 'now')
	    twelvehour: false, // Use AM/PM or 24-hour format
	    donetext: 'OK', // text for done-button
	    cleartext: 'Clear', // text for clear-button
	    canceltext: 'Cancel', // Text for cancel-button
	    autoclose: false, // automatic close timepicker
	    ampmclickable: true, // make AM PM clickable
	    aftershow: function(){} //Function for after opening timepicker
	    });
		
			$('.datepicker').pickadate({	
		    selectMonths: true, // Creates a dropdown to control month
		    selectYears: 15, // Creates a dropdown of 15 years to control year,
		    today: 'hoy',
		    clear: 'Limpiar',
		    close: 'listo',
		    closeOnSelect: true // Close upon selecting a date,
		  });
		
			$(document).ready(function(){
			    // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
			    $('.modal').modal();
			  });
	    
	</script>
		</ui:define>
</ui:composition>

