<!DOCTYPE html >
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/templates/Nav.xhtml">
	<ui:param name="tituloPagina" value="Ambientes" />
	<body>
		<ui:define name="contenido">
			<article class="col s12 m12 l12 row">
				<div class="row container">
					<h2 class="center">Inventario</h2>
					<div class="divider"></div>
				</div>
				<h:form class="col s12 m12 l10 offset-l1">
					<h:dataTable value="#{personaBean.listaInventarios}" var="datos"
						border="1" rendered="#{personaBean.listaInventarios.size()>0}"
						class="striped">
						<h:column>
							<f:facet name="header">
								<h6>Codigo</h6>
							</f:facet>
							<label jsf:value="#{datos.codInventario}" />
						</h:column>
						<h:column>
							<f:facet name="header">
								<h6>Ambiente</h6>
							</f:facet>
							<label jsf:value="#{datos.codAmbiente}" />
						</h:column>
						<h:column>
							<f:facet name="header">
								<h6>Cantidad</h6>
							</f:facet>
							<label jsf:value="#{datos.cantidad}"
								jsf:rendered="#{not datos.editar}" />
							<div class="input-field col m12" jsf:rendered="#{datos.editar}">
								<h:inputText id="cantidad" value="#{datos.cantidad}" />
								<label for="cantidad">Cantidad</label>
							</div>
						</h:column>
						<h:column>
							<f:facet name="header">
								<h6>Nombre</h6>
							</f:facet>
							<label jsf:value="#{datos.nombre}"
								jsf:rendered="#{not datos.editar}" />
							<div class="input-field col m12" jsf:rendered="#{datos.editar}">
								<h:inputText id="nombre" value="#{datos.nombre}" />
								<label for="nombre">Nombre</label>
							</div>
						</h:column>
						<h:column>
							<f:facet name="header">
								<h6>Acciones</h6>
							</f:facet>
							<h:commandLink action="#{personaBean.editarInventario(datos)}"
								class="fa fa-edit fa-2x" rendered="#{not datos.editar}"></h:commandLink>
							<h:commandLink action="#{personaBean.guardarInventario(datos)}"
								class="fa fa-check-circle fa-2x" rendered="#{datos.editar}" />
							<h:commandLink action="#{personaBean.eliminarInventario(datos)}"
								class="fa fa-lock fa-2x" />
						</h:column>
					</h:dataTable>
				</h:form>
				<div id="modal1" class="modal">
					<h:form>
						<div class="modal-content">
							<div class="center-align">
								<h5>Registro Inventario</h5>
							</div>
							<DIV class="col s12 row">
								<div class="input-field col s12 m12">
									<input id="cantidad" type="number" class="validate col m3 s6"
										required="required"
										jsf:value="#{personaBean.miAmbiente.cantidad}" /> <label
										for="cantidad">Cantidad</label>
								</div>
								<div class="input-field col s12 m6 l6">
									<input id="nombre" type="text" class="validate"
										jsf:value="#{personaBean.miAmbiente.nombre}" /> <label
										for="nombre">Nombre</label>
								</div>
								<div class="browser-default col s12 m6 l6">
									<label for="last_name">Ambiente</label>
									<h:selectOneMenu id="rol" class="browser-default"
										value="#{personaBean.miAmbiente.codAmbiente}"
										required="required">
										<f:selectItem itemValue="1" itemLabel="Audiovisuales 1" />
										<f:selectItem itemValue="2" itemLabel="Audiovisulaes 2" />
										<f:selectItem itemValue="3" itemLabel="Auditorio" />
									</h:selectOneMenu>
								</div>
							</DIV>

						</div>
						<div class="modal-footer">
							<div class="col m12 s12 l12 row">
								<div class="col s12 m6">
									<a jsf:action="#{ingresoBean.enlacePagina(1)}"
										class="waves-effect waves-light btn ">Cancelar</a>
								</div>
								<div class="col s12 m6">
									<input type="submit" value="registrar"
										class="waves-effect waves-light btn"
										jsf:action="#{personaBean.agregarInventario()}"
										jsf:actionListener="#{personaBean.listaInventario()}" />
								</div>
							</div>
						</div>
					</h:form>

				</div>
				<h:form>
					<div class="fixed-action-btn">
						<div class=" col s1 m1 l1">
							<a
								class="btn-floating btn-large waves-effect waves-light red modal-trigger"
								href="#modal1"><i class="fa fa-archive  tooltipped"
								data-position="left" data-delay="50"
								data-tooltip="Agregar Inventario"></i></a>

						</div>
					</div>
				</h:form>
			</article>
			<script type="text/javascript" src="resources/js/jquery.js"></script>
			<script type="text/javascript" src="resources/js/materialize.js"></script>
			<script> 
			  $(document).ready(function(){
				    // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
				    $('.modal').modal();
				  });
	</script>
		</ui:define>
	</body>
</ui:composition>